!function(b){b.fn.animatedHeadline=function(a){function c(a){a.each(function(){var a=b(this),c=a.text().split(""),d=a.hasClass("is-visible");for(i in c)0<a.parents(".rotate-2").length&&(c[i]="<em>"+c[i]+"</em>"),c[i]=d?"<i class=\"in\">"+c[i]+"</i>":"<i>"+c[i]+"</i>";var e=c.join("");a.html(e).css("opacity",1)})}function f(b){var a=k(b);if(b.parents(".ah-headline").hasClass("type")){var c=b.parent(".ah-words-wrapper");c.addClass("selected").removeClass("waiting"),setTimeout(function(){c.removeClass("selected"),b.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},d.selectionDuration),setTimeout(function(){e(a,d.typeLettersDelay)},d.typeAnimationDelay)}else if(b.parents(".ah-headline").hasClass("letters")){var h=b.children("i").length>=a.children("i").length;g(b.find("i").eq(0),b,h,d.lettersDelay),j(a.find("i").eq(0),a,h,d.lettersDelay)}else b.parents(".ah-headline").hasClass("clip")?b.parents(".ah-words-wrapper").animate({width:"2px"},d.revealDuration,function(){l(b,a),e(a)}):b.parents(".ah-headline").hasClass("loading-bar")?(b.parents(".ah-words-wrapper").removeClass("is-loading"),l(b,a),setTimeout(function(){f(a)},d.barAnimationDelay),setTimeout(function(){b.parents(".ah-words-wrapper").addClass("is-loading")},d.barWaiting)):(l(b,a),setTimeout(function(){f(a)},d.animationDelay))}function e(b,a){b.parents(".ah-headline").hasClass("type")?(j(b.find("i").eq(0),b,!1,a),b.addClass("is-visible").removeClass("is-hidden")):b.parents(".ah-headline").hasClass("clip")&&b.parents(".ah-words-wrapper").animate({width:b.width()+10},d.revealDuration,function(){setTimeout(function(){f(b)},d.revealAnimationDelay)})}function g(a,c,e,h){if(a.removeClass("in").addClass("out"),a.is(":last-child")?e&&setTimeout(function(){f(k(c))},d.animationDelay):setTimeout(function(){g(a.next(),c,e,h)},h),a.is(":last-child")&&b("html").hasClass("no-csstransitions")){var j=k(c);l(c,j)}}function j(b,a,c,e){b.addClass("in").removeClass("out"),b.is(":last-child")?(a.parents(".ah-headline").hasClass("type")&&setTimeout(function(){a.parents(".ah-words-wrapper").addClass("waiting")},200),c||setTimeout(function(){f(a)},d.animationDelay)):setTimeout(function(){j(b.next(),a,c,e)},e)}function k(b){return b.is(":last-child")?b.parent().children().eq(0):b.next()}function l(b,a){b.removeClass("is-visible").addClass("is-hidden"),a.removeClass("is-hidden").addClass("is-visible")}var d=b.extend({animationType:"rotate-1",animationDelay:2500,barAnimationDelay:3800,barWaiting:800,lettersDelay:50,typeLettersDelay:150,selectionDuration:500,typeAnimationDelay:1300,revealDuration:600,revealAnimationDelay:1500},a),h=d.animationDelay;this.each(function(){var a=b(this);if(d.animationType&&("type"==d.animationType||"rotate-2"==d.animationType||"rotate-3"==d.animationType||"scale"==d.animationType?a.find(".ah-headline").addClass("letters "+d.animationType):"clip"==d.animationType?a.find(".ah-headline").addClass(d.animationType+" is-full-width"):a.find(".ah-headline").addClass(d.animationType)),c(b(".ah-headline.letters").find("b")),a.hasClass("loading-bar"))h=d.barAnimationDelay,setTimeout(function(){a.find(".ah-words-wrapper").addClass("is-loading")},d.barWaiting);else if(a.hasClass("clip")){var g=a.find(".ah-words-wrapper"),e=g.width()+10;g.css("width",e)}else if(!a.find(".ah-headline").hasClass("type")){var j=a.find(".ah-words-wrapper b"),k=0;j.each(function(){var a=b(this).width();a>k&&(k=a)}),a.find(".ah-words-wrapper").css("width",k)}setTimeout(function(){f(a.find(".is-visible").eq(0))},h)})}}(jQuery);